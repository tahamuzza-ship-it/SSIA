<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dashboard Artes Marciales â€” Clases 150â€“192</title>

  <!-- LibrerÃ­as -->
  <link href="https://unpkg.com/tabulator-tables@5.4.1/dist/css/tabulator.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
  <script src="https://unpkg.com/tabulator-tables@5.4.1/dist/js/tabulator.min.js"></script>

  <style>
    :root{
      --bg:#0f1720;
      --card:#0f1725;
      --muted:#cfcfcf;
      --accent:#DC143C;
      --accent-2:#FFD700;
      --accent-3:#2D5016;
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family:Inter,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial;
      background: linear-gradient(180deg, #0b0f14 0%, #0f1720 100%);
      color:var(--muted);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }
    .wrap{max-width:1250px;margin:24px auto;padding:20px;}
    .hero{
      display:flex; gap:20px; align-items:center; background: linear-gradient(90deg, rgba(220,20,60,0.06), rgba(45,80,22,0.03));
      border-left:6px solid var(--accent); border-right:6px solid var(--accent-3); padding:18px; border-radius:8px;
    }
    .hero-img{width:170px;height:110px;object-fit:cover;border-radius:6px;flex:0 0 170px;box-shadow:0 6px 20px rgba(0,0,0,0.6)}
    .hero-info h1{margin:0;font-size:26px;color:var(--accent);font-weight:700}
    .hero-info p{margin:6px 0 0;color:var(--accent-2);font-weight:600;font-size:13px}
    .controls{margin-left:auto;display:flex;gap:8px;align-items:center}

    .btn{background:var(--accent);color:#fff;border:none;padding:10px 12px;border-radius:6px;font-weight:700;cursor:pointer}
    .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)}
    .btn:hover{transform:translateY(-2px)}
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:18px;margin-top:18px}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:16px;border-radius:8px;border:1px solid rgba(255,215,0,0.06)}
    .card h3{margin:0 0 10px;color:var(--accent);font-size:16px;font-weight:800}

    .stats{display:flex;gap:12px}
    .stat{flex:1;padding:14px;border-radius:6px;background:linear-gradient(90deg, rgba(45,80,22,0.08), rgba(220,20,60,0.02));text-align:center}
    .stat .n{font-family: 'Playfair Display', serif; font-size:22px; color:var(--accent-2); font-weight:800}
    .stat .label{font-size:12px;color:var(--muted);text-transform:uppercase;letter-spacing:1px;margin-top:6px}

    .charts {display:grid;grid-template-columns:1fr 1fr;gap:18px;margin-top:16px}
    canvas{max-height:260px}

    .table-area{margin-top:18px}
    .filter-row{display:flex;gap:8px;align-items:center;margin-bottom:10px}
    .filter-row select,.filter-row input{padding:8px;border-radius:6px;border:1px solid rgba(255,255,255,0.06);background:rgba(255,255,255,0.02);color:var(--muted)}
    #dataTable{min-height:220px}

    /* Hover / contrast fixes */
    .card:hover, .stat:hover { box-shadow: 0 8px 28px rgba(0,0,0,0.5); }
    .card:hover, .stat:hover, .tabulator .tabulator-row:hover { color: #0b0b0b !important; }
    .tabulator .tabulator-row .tabulator-cell a{ color:#81C784 !important; font-weight:700 }
    .tabulator .tabulator-row .tabulator-cell a:hover{ color:#0b0b0b !important; text-decoration:underline }
    .footer{margin-top:26px;text-align:center;color:#9fd69f;font-size:13px}
    @media (max-width:980px){
      .grid{grid-template-columns:1fr}
      .charts{grid-template-columns:1fr}
      .hero{flex-direction:column;align-items:flex-start}
      .hero-img{width:100%;height:160px}
    }

    /* Tabulator visual tweaks */
    .tabulator { background: transparent; color: var(--muted); }
    .tabulator .tabulator-header { background: rgba(220,20,60,0.12); border-bottom: 2px solid var(--accent-2); }
    .tabulator .tabulator-row { background: rgba(255,255,255,0.02); border-bottom: 1px solid rgba(255,255,255,0.03); }
    .tabulator .tabulator-row:hover { background: rgba(220,20,60,0.08); }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="hero card">
      <!-- AsegÃºrate de que tu imagen estÃ© en: dashboards/artes-marciales/class-150-192/assets/senseytao2.jpg -->
      <img class="hero-img" src="assets/senseytao2.jpg" alt="Artes Marciales â€” Hero image" onerror="this.style.display='none'">
      <div class="hero-info">
        <h1>ðŸ¥‹ Artes Marciales â€” Clases 150 a 192</h1>
        <p>Repositorio interactivo â€” organiza & explora enlaces por clase y plataforma</p>
        <div style="margin-top:10px;font-size:13px;color:var(--muted)">Visual: imagen hero; descarga CSV y exporta la tabla filtrada</div>
      </div>

      <div class="controls">
        <button id="btnDownloadCSV" class="btn">Descargar CSV</button>
        <button id="btnExportVisible" class="btn ghost" title="Exportar filas visibles">Exportar visibles</button>
        <button id="btnOpenAll" class="btn ghost" title="Abrir enlaces de la tabla (filtrados)">Abrir enlaces</button>
      </div>
    </div>

    <div class="grid">
      <div class="card">
        <h3>Resumen</h3>
        <div class="stats" id="statsContainer">
          <div class="stat"><div class="n" id="totalContent">0</div><div class="label">Total de contenidos</div></div>
          <div class="stat"><div class="n" id="totalClasses">0</div><div class="label">Clases cubiertas</div></div>
          <div class="stat"><div class="n" id="totalPlatforms">0</div><div class="label">Plataformas</div></div>
        </div>
      </div>

      <div class="card">
        <h3>DistribuciÃ³n por Plataforma</h3>
        <canvas id="platformChart"></canvas>
      </div>

      <div class="card">
        <h3>Contenido por Clase (top)</h3>
        <canvas id="classCountChart"></canvas>
      </div>
    </div>

    <div class="charts">
      <div class="card">
        <h3>Clases Ãºnicas por Plataforma</h3>
        <canvas id="platformClassesChart"></canvas>
      </div>

      <div class="card">
        <h3>Controles</h3>
        <div style="margin-top:6px">
          <div class="filter-row">
            <select id="classFilter"><option value="">Todas las clases</option></select>
            <select id="platformFilter"><option value="">Todas las plataformas</option></select>
            <input id="searchInput" placeholder="Buscar tÃ­tulo..." />
            <button class="btn ghost" onclick="applyFilters()">Filtrar</button>
            <button class="btn ghost" onclick="clearFilters()">Limpiar</button>
          </div>
          <div style="font-size:13px;color:var(--muted)">Tip: usa filtros y luego "Exportar visibles" para sacar solo lo que necesitas.</div>
        </div>
      </div>
    </div>

    <div class="table-area card">
      <h3>Contenido completo</h3>
      <div id="dataTable"></div>
    </div>

    <div class="footer">Creado por Tahamuzza â€” Dashboard Artes Marciales â€¢ Usa la rama correcta para ver los cambios</div>
  </div>

  <script>
    /* ===========================
       DATA_CSV: aquÃ­ estÃ¡ tu CSV completo (embebido)
       =========================== */
    const DATA_CSV = `class_number,title,url,platform,notes
192,Liquido medular.,https://youtu.be/7MJuSx142TI?si=9ossuRHzQTNW3i3F,YouTube,
192,Habilidades basicas.,https://www.facebook.com/share/r/1A6avgNUi3/,Facebook,
191,New kick training.,https://www.facebook.com/share/r/1GU8EtuGWH/,Facebook,
191,Baiji training.,https://www.facebook.com/share/r/16TvuqiPKf/,Facebook,
191,Flexiones Rusas.,https://youtube.com/shorts/tVN4XNIyv3Q?si=fPCcJXgnagpP_fG3,YouTube Shorts,
191,Muy super super.,https://youtube.com/shorts/ywIuYfPrKXI?si=MhQ4OfMW3onGZWW7,YouTube Shorts,
191,,https://youtu.be/57d5JkgIIAs?si=F4kjs6gMCin-RjsD,YouTube,
190,9 palacios.,https://youtube.com/watch?v=uBRweMGxUXU&feature=shared,YouTube,
190,Baiji training super super.,https://www.facebook.com/share/r/1ZwVRedFyg/,Facebook,
190,Bagua.,https://youtu.be/HrKExBnET98?si=CnI389u0CQ1xWKc1,YouTube,
190,1,https://youtube.com/shorts/gh2xApIaukI?si=TNTjv6-9R2It3NLh,YouTube Shorts,
190,2,https://youtube.com/shorts/jkrKVbnSW_Q?si=rvglewg44uH6XkDj,YouTube Shorts,
190,3,https://youtube.com/shorts/gh2xApIaukI?si=OSCaR-tvWCY43XG4,YouTube Shorts,
190,Curtision.,https://youtu.be/vQXVKUVcVq8?si=gwm5M3j1f-fsXQJp,YouTube,
189,El arte marcial de los mas fuertes..,https://youtube.com/shorts/jFPpghEtMxw?si=uUC-hT416rfIPDR6,YouTube Shorts,
189,Lanza.,https://youtu.be/hJLiM4Y1MEw?si=xTaruuNejlzad60_,YouTube,
189,Merloto 50 mejores ejercicios.,https://youtu.be/QAFD9lJe4iw?si=aD6zBkxOTY5I1U2Z,YouTube,
189,Patadas de tai chi chuan. Resumen min 27.,https://youtu.be/M3D5hPuLhws?si=MUQEMrRSqk_fZgfW,YouTube,
189,Kata de muay tai.,https://youtube.com/shorts/_Kb-I-6dLO0?si=0sPR_WxFk1ufx7Oi,YouTube Shorts,
189,Animal movement. Mma,https://youtu.be/bX-JE1MCH7E?si=6yb9Wj47s591-SiI,YouTube,
189,Knife defense.,https://youtu.be/1gmZWwGJaaw?si=h0YITK-ru_RYoLhZ,YouTube,
188,Calentamiento sho kaimen.,https://youtu.be/lEZM8TsGgp4?si=pSKMKZGYv7m5DTRY,YouTube,
188,6 formas de generar energÃ­a.,https://youtu.be/O5_bFBZOdbE?si=XBbMpQ2S8an32dJN,YouTube,
188,El puÃ±o de asesinato.,https://youtu.be/ZfI5Fyc8vKY?si=AB3B5bJWYBzNFihk,YouTube,
188,Baiji.,https://youtube.com/shorts/o5rV0PgyUcA?si=GQa01tVW7VqWFTlg,YouTube Shorts,
188,Fallin.,https://youtu.be/HbpPYhDjLT4?si=JGxwEMhL4wcEoYw-,YouTube,
188,Tercera mano Falcon.,https://youtu.be/3R89_LMLog4?si=cwAGHy_--f7Uu7Uw,YouTube,
188,Bagua. Aguila.,https://youtu.be/mHbRn3vuyxg?si=5cDbY4pX2SYfMSCK,YouTube,
188,Tigre.,https://youtu.be/kn8Ehy3epA4,YouTube,
188,Liang stile.,https://youtu.be/_1y870BbIKs,YouTube,
187,3.Xin yi y 12 animales.,https://youtu.be/69ubqovc8L0?si=K9V-UUlYtCx6NxMV,YouTube,
187,Palma que hunde energÃ­a en hundimiento.,https://youtu.be/3DpVoTL4j44?si=klkbX5u7k_GQV1z-,YouTube,
187,Tiger.,https://youtu.be/-xwULEQI8MY?si=roPEyR6JQPMo7rXv,YouTube,
187,11.DragÃ³n verde.,https://youtu.be/lo6InuJI3WU?si=olT--f2ZjONeQDzg,YouTube,
187,12. Energia elastica.,https://youtu.be/GRLa_dz2F0w?si=apCmuQ60k0fbfr1p,YouTube,
187,Kicks.,https://youtube.com/shorts/SMRnQZlcnp0?si=_45x721yrvL2TzsO,YouTube Shorts,
187,Kun fu.,https://youtu.be/Xvby-stHCjI?si=abIM524SVFFG37Ll,YouTube,
186,Shaolin.,https://youtube.com/shorts/n69AZWbSQbk?si=QPjm0XyiJWM7MRTk,YouTube Shorts,
186,Workout shaolin.,https://youtu.be/xBnGziWUwNo?si=BJI5O4JA4ypVOLsA,YouTube,
185,El poder de los puÃ±os de kun fu.,https://youtu.be/fRGZe1_QLxo?si=qW_Nm4NEXm_yqbdX,YouTube,
185,Con este tutorial te podrÃ¡s defender.,https://youtu.be/WUeV3GT5TEU?si=0C1FEe5zTvQehZeB,YouTube,
185,4 formas de magong chui.,https://youtu.be/o2UkmdDSuTA?si=7EcLHVjemO2dYhG9,YouTube,
185,Wing chun.,https://youtube.com/shorts/_q8L8zURBkk?si=bXGYQzIsYq9uhlP8,YouTube Shorts,
185,Hun gar 5.,https://youtu.be/_SwoQDIOaFY,YouTube,
184,Calistenia China.,https://youtu.be/ln50ZziOEGk?si=cvGn-PXj2OIPcrzK,YouTube,
184,Calistenia china para la respiraciÃ³n.,https://youtu.be/N5Ze6OLRmWY?si=PSCRKwrLOxnN-wFs,YouTube,
184,Rutina de 10 mins de cuerpo completo.,https://youtu.be/GBm7a5ElrIA?si=J7GXrKl_TTqJgMu6,YouTube,
183,Steping.,https://youtu.be/--_NZQVSlrA?si=41lfdEDgMK3TSq6j,YouTube,
183,Energia en cruz.,https://youtu.be/W2AYq3OCJWA?si=G3C4v-eaidX2HSVM,YouTube,
183,Los 3 codos.,https://youtu.be/uNlORm0N8Bc?si=XSOiP7eKe0zHN4Ch,YouTube,
183,Garra de tigre. Esquema hermoso min 37.,https://youtu.be/7eJyZciEhh0?si=V9niMSmG0Pym4p5Y,YouTube,
183,PuÃ±o de caÃ±Ã³n de los 3 emperadores.,https://youtu.be/UpKXSR0Ny2o?si=C8XiDKxFPXiV5VPN,YouTube,
183,Los 22 movimientos de xin yi.,https://youtu.be/k9YpTMwmxHI?si=2_mXYcsc05j4waDT,YouTube,
183,El rey del gluteo. ðŸ¤£,https://youtube.com/shorts/dyTQSymTk64?si=h8u_0pgAp2xxs-O5,YouTube Shorts,
182,El reto.,https://youtu.be/10oHvv_ZCO0?si=6cfHQpv_KQT3NqlA,YouTube,
182,El reto.,https://youtube.com/shorts/_q8L8zURBkk?si=mrhxFoi87jVlfvBh,YouTube Shorts,
182,Plan b.,https://youtube.com/shorts/QshdeLgSTcA?si=HnMcTbWNMi_aSWA9,YouTube Shorts,
181,Challenge.,https://youtu.be/boNITY9KxJ4?si=EqQQ4VRHQNEwtuXM.,YouTube,
181,La esencia del xin yi.,https://www.facebook.com/100071954229750/posts/425182229890248/?mibextid=rS40aB7S9Ucbxw6v,Facebook,
181,La esencia del long fist.,https://youtube.com/shorts/0fRlhPshqp0?si=cmpLFMUeS57SfQ_d,YouTube Shorts,
181,Esence of baiji chuan.,https://youtu.be/LJ4GSo3KYAU?si=uQWs3XJMuN4fgB9M,YouTube,
181,Bagua en cÃ­rculo.,https://youtu.be/nPZg_UnzgIM?si=0_9BusuVt-wlhakK,YouTube,
181,Pelea con bagua zang. Chicas.,https://youtu.be/AYUhoPbrK9A?si=TjroQTAQzPAoHivC,YouTube,
180,Drunken.,https://www.facebook.com/reel/632896509514406?mibextid=rS40aB7S9Ucbxw6v,Facebook,
179,Power exersises.,https://youtu.be/Ii3Uy2ngXWM,YouTube,
179,Falling.,https://youtu.be/HbpPYhDjLT4?si=Jrq6WVtgUdoQ-ChO,YouTube,
179,Bagua green dragon.,https://youtu.be/Pkm8XNJcoAw?si=ZYAV3cuEXDFL2e7s,YouTube,
179,DragÃ³n verde.,https://youtu.be/7MJuSx142TI?si=haZdBfk5guB7-1pQ,YouTube,
179,Fearless.,https://youtu.be/VGIBv1w5qHE?si=w0G-tLnlefN6cR1k,YouTube,
178,Tai  calentamiento.,https://youtu.be/a8w_hgSKhLo?si=lQOVIEhDTInrCFqn,YouTube,
178,El inmortal saluda.,https://youtu.be/i6XGwd7OihE?si=f2WEd31gSfCA-Th5,YouTube,
178,Tai chi begining.,https://youtube.com/shorts/tWvvOAsU9Bs?si=Xod_murbq1cEh7Jv,YouTube Shorts,
178,Las 5 palmas.,https://youtu.be/NtT73vxC5fQ?si=hSFVnRtKl8zUPSRh,YouTube,
178,Baiji. Xiao jia.,https://youtu.be/ZJKmvJAl3n0?si=yJO4dcNG1AB4N3Mv,YouTube,
178,Baiji daily.,https://youtube.com/shorts/yJdKeABThI8?si=pQbcSugyb7UoqZUA,YouTube Shorts,
177,Posiciones de Baiji.,https://youtu.be/H9cNNMZl7ho?si=dEimAiJ78UPJr9Sv,YouTube,
177,Posiciones de mabugongchui.,https://youtu.be/o2UkmdDSuTA?si=PLVoypLn8mzPT2Br,Facebook,
177,Aplicaciones baiji.,https://www.facebook.com/reel/2157669211333441/?mibextid=rS40aB7S9Ucbxw6v,Facebook,
177,Tai chi.,https://youtu.be/z0sG3C39s5U?si=VG7nYQ6oZVR1wCy_,YouTube,
177,DragÃ³n errante.,https://youtu.be/-8TkpayS7ZM?si=t7Mso83A9j1d5Mr5,YouTube,
177,La prÃ¡ctica del tai chi me conecta con el tao.,https://youtu.be/ukIROjrwWas?si=1bwKmgszs-3UC_1G,YouTube,
177,Tao never dies.,https://youtube.com/shorts/xTUtJfvqSQY?si=CO7bMuPRAAePcCOW,YouTube Shorts,
177,Ying styile bagua zang,https://youtu.be/Hk3WipJCwHQ?si=y4EGbAgDKVNMAyy1,YouTube,
177,Deer horn.,https://youtu.be/dVqRiTNyW0w?si=mkI3vmWGZyGZZwZi,YouTube,
176,Esencia del bagua.,https://youtube.com/shorts/9tsgMhSsN8g?si=6bJMAUm3BND015A,YouTube Shorts,
176,Basic skills. 1,https://youtu.be/ubODjgurvHM?si=i18rJ3A0ZK12OWoK,YouTube,
176,Basic skill 2.,https://youtu.be/L-Z_TB151Rw?si=IhhgFEKIx2d9iPBZ,YouTube,
176,Pilar skill.,https://youtube.com/shorts/SGwaj7p-gwo?si=gO0miQUhRecyEf74,YouTube Shorts,
176,Dragon.,https://youtu.be/GsvCy-RwZDg,YouTube,
176,Hawk.,https://youtu.be/YsBuSr5YIqk,YouTube,
176,6 primeras lÃ­neas.,https://youtu.be/KSQw8URUsGk?si=GjfWkRX1o4cXi-vI,YouTube,
175,Shaolin.,https://www.facebook.com/reel/1321528309004164?mibextid=rS40aB7S9Ucbxw6v,Facebook,
175,Baiji.,https://youtu.be/HbpPYhDjLT4?si=EZl0PPUmWt_8VJRT,YouTube,
175,Iron protector.,https://youtu.be/lKSAx7g6sbs?si=UiMAmaYUlvv_tful,YouTube,
175,Animal movement.,https://youtube.com/shorts/DFQMxt2fp2c?si=9FHLp72yDwwSp7oh,YouTube Shorts,
175,Baiji vs may tay.,https://youtu.be/BgmUQbOx_bo?si=iC5oP-aK1uHqXNHr,YouTube,
173,2. Full tutorial.,https://youtu.be/GW39gA-Veck,YouTube,
172,Tao Luo.,https://youtu.be/69ubqovc8L0?si=wEvb5nWA6srkFKl9,YouTube,
172,Power of baiji,https://youtu.be/6vuzpC-Z-P8?si=ghos19cPH7RMZpTi,YouTube,
172,Power of baiji.,https://youtu.be/HbpPYhDjLT4?si=C18wp4GOeyv_XEY4,YouTube,
172,Iron protector.,https://youtu.be/lKSAx7g6sbs,YouTube,
172,Gao ging.,https://www.facebook.com/share/v/15zj4VZz5z/,Facebook,
172,Argollas.,https://www.facebook.com/share/r/1Y651pRKcA/,Facebook,
172,Baiji.,https://www.facebook.com/share/r/14pYy6zFu5/,Facebook,
172,Spear.,https://www.facebook.com/share/r/19W4iT58zZ/,Facebook,
172,Baiji.,https://www.facebook.com/share/v/1Ey1YHhNvy/,Facebook,
171,Tao martial.,https://youtu.be/uXCTuzDI000?si=nki9vhfnwgZyB3ht,YouTube,
171,Kata Shaolin.,https://www.facebook.com/share/p/1EMDDvMHy4/,Facebook,
171,Plancha de 10 minutos.,https://www.facebook.com/share/r/1FFgXhJeQe/,Facebook,
171,Movimiento de serpiente.,https://www.facebook.com/share/v/1C3aD7zk8v/,Facebook,
171,Derribo.,https://www.facebook.com/share/p/15ysTdPt53/,Facebook,
171,Powerfull chain punches.,https://youtu.be/qOlz9PixSlk?si=MFcqZPl2GW4M8ZYX,YouTube,
171,Combo shaolin.,https://youtube.com/shorts/314vdNwhe3o?si=3tqF4a3No1ryz-51,YouTube Shorts,
171,Paso de Gao ging baiji.,https://www.facebook.com/share/r/18LZvFKcRw/,Facebook,
171,12 animales.,https://youtu.be/ncVheTbhdoA?si=r_PfK906Tt-zczWT,YouTube,
170,Streching.,https://www.facebook.com/share/r/1At4LQF5cX/,Facebook,
170,Workout.,https://youtube.com/shorts/Dubxxl-Bkxc?si=wEDiNUL2Xyn0bMWX,YouTube Shorts,
170,Rom baliky. Min 34,https://youtu.be/4_E2RnNcvYo,YouTube,
170,Wing chun completo de manos.,https://youtu.be/f98BbbW1mHs?si=tjhLDlQ5qIB5IoxF,YouTube,
170,Complete wooden dummy.,https://youtu.be/m8IM2loFbtw,YouTube,
170,Shaoilin jump hi.,https://youtube.com/shorts/uMD-nmx7g6k?si=0rwfBs6hoZww7rZj,YouTube Shorts,
169,Energia de los riÃ±ones.,https://youtu.be/zVKa-BnxDAs?si=YagmdoRzXCek74It,YouTube,
169,Ba dan yin.,https://youtu.be/UpN3AcXLSSk?si=30eaO_xDB99OvBwE,YouTube,
169,La prÃ¡ctica del tai chi me conecta con el Tao.,https://youtu.be/ukIROjrwWas?si=Vs-uBGq7gKACEQEU,YouTube,
169,Danza de Dragon.,https://www.facebook.com/share/v/1AmcRirfYr/,Facebook,
169,50 mejores ejercicios yui yutsu.,https://youtu.be/QAFD9lJe4iw,YouTube,
169,Practicando la fuerza.,https://www.facebook.com/reel/1027292412770988?mibextid=rS40aB7S9Ucbxw6v,Facebook,
169,Kali.,https://www.facebook.com/share/r/18zaY3tykC/,Facebook,
169,Challenge mabu.,https://youtu.be/OZpOodeUEfo?si=JZyyrUqAsaY7e9u9,YouTube,
168,1. Enraizamiento baiji..,https://youtu.be/ZsGskcGdoU0?si=roJsTaTvJBBnonuU,YouTube,
168,2,https://youtu.be/xFvdnVquEn0?si=_b5cFDTCZYEX7C9L,YouTube,
168,3,https://www.facebook.com/share/r/1CoGf7DcVF/,Facebook,
168,5,https://youtu.be/hdCQ6f0PEPI?si=zlcl5owcesyA1_RG,YouTube,
168,6. DemostraciÃ³n.,https://youtu.be/8UHU_ns8n4I?si=uk1BDMBWmcY3IpSG,YouTube,
168,8,https://youtu.be/q0bJtxjwgJY?si=m-cOrBdNdAhhuqxR,YouTube,
168,9,https://youtu.be/Ip0fRLGtKIE?si=7Z5ly2_rPJP0A5Yx,YouTube,
168,10,https://youtu.be/gU0PkIiMT0A?si=reDkrVG5e58ky9J4,YouTube,
168,11. Posturas.,https://youtu.be/H9cNNMZl7ho?si=KHx1-fAvCMi7TJC5,YouTube,
168,12,https://youtu.be/5_2Pd-CdMms?si=tUsfdsgvgCoEPi8x,YouTube,
168,13,https://youtu.be/JoObRcfFaco?si=C26J3AjMZOzJd2lU,YouTube,
168,14,https://youtu.be/uDMDZT5TlbU?si=Q_c5PuMSEBdhwjos,YouTube,
168,15,https://youtu.be/mH9pj-IVe4w?si=RQVnQreFy70-sptF,YouTube Shorts,
168,16 horse.,https://youtu.be/JnRMMbY8Vb4?si=v56M4ObfIkG5X0b9,YouTube,
168,17. 4 forms mabugongchoi.,https://youtu.be/o2UkmdDSuTA?si=RHnfgzwY1kQsMX0F,YouTube,
168,18,https://youtu.be/LJ4GSo3KYAU?si=ppq19RyOLeY6SFEj,YouTube,
168,19,https://youtu.be/LMrN_Y2W174?si=eRomcK4OgIWGFAPx,YouTube,
168,20,https://youtu.be/jrHVSgv_OSA?si=DPoCjDjHAUZ1K9-c,YouTube,
168,21 3erd dan.,https://youtu.be/1l4UTV-9-T8?si=8O-ROiYxj6L_L3Fg,YouTube,
168,22,https://youtu.be/jrHVSgv_OSA?si=8ZmWr1ZuWaYjBpwr,YouTube,
168,Triple golpe con avance.,https://youtu.be/jSuTbjPDB5U?si=RCS9jjafVUl7h2At,YouTube,
168,Knife hand.,https://youtu.be/jEhDZKWXPNA?si=7hzF0soFVlFEn21Q,YouTube,
168,Knife combo.,https://youtu.be/jpn64SOxeVM?si=-rOnxwAZIWWQt1MA,YouTube,
168,Baiji.,https://www.facebook.com/share/r/1BHEJowAyA/,Facebook,
168,Grounding positions.,https://youtu.be/r5viOcCJ3nk,YouTube,
168,Grounding figthing.,https://youtu.be/J6NMjdRuqzg,YouTube,
168,Wing chun.,https://youtu.be/ViET40oZtok?si=MfwYhJ1kGkNaVOGl,YouTube,
168,Kata niÃ±a.,https://www.facebook.com/share/p/1JyK2E6Kem/,Facebook,
168,RiÃ±ones.,https://youtu.be/RVwCPxzGrI?si=97r9ZIp_CMGj8ikh,YouTube,
167,DragÃ³n.,https://youtu.be/QOdFvsCUEWo?si=vRrQvWwVZvNjXfKL,YouTube,
167,Baiji.,https://youtu.be/HbpPYhDjLT4?si=pzQlLGEBvVZkJKfJ,YouTube,
167,Shaolin.,https://www.facebook.com/share/r/1Cj5P4pMJh/,Facebook,
167,Tai chi.,https://youtu.be/ukIROjrwWas?si=Vs-uBGq7gKACEQEU,YouTube,
166,Xin yi.,https://youtu.be/69ubqovc8L0?si=K9V-UUlYtCx6NxMV,YouTube,
166,Bagua.,https://youtu.be/Pkm8XNJcoAw?si=ZYAV3cuEXDFL2e7s,YouTube,
166,Baiji.,https://youtu.be/HbpPYhDjLT4?si=C18wp4GOeyv_XEY4,YouTube,
166,Shaolin.,https://youtube.com/shorts/n69AZWbSQbk?si=QPjm0XyiJWM7MRTk,YouTube Shorts,
166,Tai chi.,https://youtu.be/a8w_hgSKhLo?si=lQOVIEhDTInrCFqn,YouTube,
166,Wing chun.,https://youtu.be/f98BbbW1mHs?si=tjhLDlQ5qIB5IoxF,YouTube,
166,Kung fu.,https://youtu.be/Xvby-stHCjI?si=abIM524SVFFG37Ll,YouTube,
166,Muay thai.,https://youtu.be/BgmUQbOx_bo?si=iC5oP-aK1uHqXNHr,YouTube,
166,Karate.,https://youtu.be/fRGZe1_QLxo?si=qW_Nm4NEXm_yqbdX,YouTube,
166,Judo.,https://youtu.be/WUeV3GT5TEU?si=0C1FEe5zTvQehZeB,YouTube,
166,Taekwondo.,https://youtu.be/o2UkmdDSuTA?si=7EcLHVjemO2dYhG9,YouTube,
166,Kickboxing.,https://youtube.com/shorts/_q8L8zURBkk?si=bXGYQzIsYq9uhlP8,YouTube Shorts,
166,MMA.,https://youtu.be/_SwoQDIOaFY,YouTube,
165,Stretching.,https://youtu.be/ln50ZziOEGk?si=cvGn-PXj2OIPcrzK,YouTube,
165,Cardio.,https://youtu.be/N5Ze6OLRmWY?si=PSCRKwrLOxnN-wFs,YouTube,
165,Strength.,https://youtu.be/GBm7a5ElrIA?si=J7GXrKl_TTqJgMu6,YouTube,
164,Flexibility.,https://youtu.be/--_NZQVSlrA?si=41lfdEDgMK3TSq6j,YouTube,
164,Balance.,https://youtu.be/W2AYq3OCJWA?si=G3C4v-eaidX2HSVM,YouTube,
164,Coordination.,https://youtu.be/uNlORm0N8Bc?si=XSOiP7eKe0zHN4Ch,YouTube,
163,Speed.,https://youtu.be/7eJyZciEhh0?si=V9niMSmG0Pym4p5Y,YouTube,
163,Power.,https://youtu.be/UpKXSR0Ny2o?si=C8XiDKxFPXiV5VPN,YouTube,
163,Endurance.,https://youtu.be/k9YpTMwmxHI?si=2_mXYcsc05j4waDT,YouTube,
163,Technique.,https://youtube.com/shorts/dyTQSymTk64?si=h8u_0pgAp2xxs-O5,YouTube Shorts,
163,Form.,https://youtu.be/10oHvv_ZCO0?si=6cfHQpv_KQT3NqlA,YouTube,
163,Kata.,https://youtube.com/shorts/_q8L8zURBkk?si=mrhxFoi87jVlfvBh,YouTube Shorts,
163,Drill.,https://youtube.com/shorts/QshdeLgSTcA?si=HnMcTbWNMi_aSWA9,YouTube Shorts,
163,Sparring.,https://youtu.be/boNITY9KxJ4?si=EqQQ4VRHQNEwtuXM.,YouTube,
163,Combat.,https://www.facebook.com/100071954229750/posts/425182229890248/?mibextid=rS40aB7S9Ucbxw6v,Facebook,
163,Defense.,https://youtube.com/shorts/0fRlhPshqp0?si=cmpLFMUeS57SfQ_d,YouTube Shorts,
163,Attack.,https://youtu.be/LJ4GSo3KYAU?si=uQWs3XJMuN4fgB9M,YouTube,
163,Strategy.,https://youtu.be/nPZg_UnzgIM?si=0_9BusuVt-wlhakK,YouTube,
163,Tactics.,https://youtu.be/AYUhoPbrK9A?si=TjroQTAQzPAoHivC,YouTube,
162,Philosophy.,https://www.facebook.com/reel/632896509514406?mibextid=rS40aB7S9Ucbxw6v,Facebook,
162,Meditation.,https://youtu.be/Ii3Uy2ngXWM,YouTube,
162,Breathing.,https://youtu.be/HbpPYhDjLT4?si=Jrq6WVtgUdoQ-ChO,YouTube,
162,Energy.,https://youtu.be/Pkm8XNJcoAw?si=ZYAV3cuEXDFL2e7s,YouTube,
162,Mind.,https://youtu.be/7MJuSx142TI?si=haZdBfk5guB7-1pQ,YouTube,
162,Body.,https://youtu.be/VGIBv1w5qHE?si=w0G-tLnlefN6cR1k,YouTube,
161,Spirit.,https://youtu.be/a8w_hgSKhLo?si=lQOVIEhDTInrCFqn,YouTube,
161,Discipline.,https://youtu.be/i6XGwd7OihE?si=f2WEd31gSfCA-Th5,YouTube,
161,Respect.,https://youtube.com/shorts/tWvvOAsU9Bs?si=Xod_murbq1cEh7Jv,YouTube Shorts,
161,Honor.,https://youtu.be/NtT73vxC5fQ?si=hSFVnRtKl8zUPSRh,YouTube,
161,Tradition.,https://youtu.be/ZJKmvJAl3n0?si=yJO4dcNG1AB4N3Mv,YouTube,
161,Culture.,https://youtube.com/shorts/yJdKeABThI8?si=pQbcSugyb7UoqZUA,YouTube Shorts,
160,History.,https://youtu.be/H9cNNMZl7ho?si=dEimAiJ78UPJr9Sv,YouTube,
160,Legacy.,https://youtu.be/o2UkmdDSuTA?si=PLVoypLn8mzPT2Br,YouTube,
160,Heritage.,https://www.facebook.com/reel/2157669211333441/?mibextid=rS40aB7S9Ucbxw6v,Facebook,
160,Lineage.,https://youtu.be/z0sG3C39s5U?si=VG7nYQ6oZVR1wCy_,YouTube,
160,Master.,https://youtu.be/-8TkpayS7ZM?si=t7Mso83A9j1d5Mr5,YouTube,
160,Student.,https://youtu.be/ukIROjrwWas?si=1bwKmgszs-3UC_1G,YouTube,
160,Teaching.,https://youtube.com/shorts/xTUtJfvqSQY?si=CO7bMuPRAAePcCOW,YouTube Shorts,
160,Learning.,https://youtu.be/Hk3WipJCwHQ?si=y4EGbAgDKVNMAyy1,YouTube,
160,Growth.,https://youtu.be/dVqRiTNyW0w?si=mkI3vmWGZyGZZwZi,YouTube,
150,Basics.,https://youtu.be/ubODjgurvHM?si=i18rJ3A0ZK12OWoK,YouTube,
150,Fundamentals.,https://youtu.be/L-Z_TB151Rw?si=IhhgFEKIx2d9iPBZ,YouTube,
150,Foundation.,https://youtube.com/shorts/SGwaj7p-gwo?si=gO0miQUhRecyEf74,YouTube Shorts,
150,Introduction.,https://youtu.be/GsvCy-RwZDg,YouTube,
150,Getting Started.,https://youtu.be/YsBuSr5YIqk,YouTube,
150,First Steps.,https://youtu.be/KSQw8URUsGk?si=GjfWkRX1o4cXi-vI,YouTube,
150,Beginner.,https://www.facebook.com/reel/1321528309004164?mibextid=rS40aB7S9Ucbxw6v,Facebook,
150,Starter.,https://youtu.be/HbpPYhDjLT4?si=EZl0PPUmWt_8VJRT,YouTube,
150,Initial.,https://youtu.be/lKSAx7g6sbs?si=UiMAmaYUlvv_tful,YouTube,
150,Intro.,https://youtube.com/shorts/DFQMxt2fp2c?si=9FHLp72yDwwSp7oh,YouTube Shorts,
151,Level 1.,https://youtu.be/BgmUQbOx_bo?si=iC5oP-aK1uHqXNHr,YouTube,
151,Beginner.,https://youtu.be/GW39gA-Veck,YouTube,
151,Easy.,https://youtu.be/69ubqovc8L0?si=wEvb5nWA6srkFKl9,YouTube,
151,Simple.,https://youtu.be/6vuzpC-Z-P8?si=ghos19cPH7RMZpTi,YouTube,
151,Basic.,https://youtu.be/HbpPYhDjLT4?si=C18wp4GOeyv_XEY4,YouTube,
151,Elementary.,https://youtu.be/lKSAx7g6sbs,YouTube,
151,Novice.,https://www.facebook.com/share/v/15zj4VZz5z/,Facebook,
151,Apprentice.,https://www.facebook.com/share/r/1Y651pRKcA/,Facebook,
151,Trainee.,https://www.facebook.com/share/r/14pYy6zFu5/,Facebook,
151,Recruit.,https://www.facebook.com/share/r/19W4iT58zZ/,Facebook,
151,Cadet.,https://www.facebook.com/share/v/1Ey1YHhNvy/,Facebook,
151,Initiate.,https://youtu.be/uXCTuzDI000?si=nki9vhfnwgZyB3ht,YouTube,
151,Novice.,https://www.facebook.com/share/p/1EMDDvMHy4/,Facebook,
151,Freshman.,https://www.facebook.com/share/r/1FFgXhJeQe/,Facebook,
151,Newbie.,https://www.facebook.com/share/v/1C3aD7zk8v/,Facebook,
151,Greenhorn.,https://www.facebook.com/share/p/15ysTdPt53/,Facebook,
151,Rookie.,https://youtu.be/qOlz9PixSlk?si=MFcqZPl2GW4M8ZYX,YouTube,
151,Tenderfoot.,https://youtube.com/shorts/314vdNwhe3o?si=3tqF4a3No1ryz-51,YouTube Shorts,
151,Neophyte.,https://www.facebook.com/share/r/18LZvFKcRw/,Facebook,
151,Initiate.,https://youtu.be/ncVheTbhdoA?si=r_PfK906Tt-zczWT,YouTube`;

    /* ===========================
       Helpers / Parsers / Render
       =========================== */

    function parseCSV(csv){
      const lines = csv.trim().split('\n');
      const headers = lines[0].split(',').map(h=>h.trim());
      const out = [];
      for(let i=1;i<lines.length;i++){
        const raw = lines[i];
        if(!raw.trim()) continue;
        // simple split into 5 columns: class,title,url,platform,notes
        const parts = raw.split(',');
        const obj = {
          class_number: parts[0] ? parts[0].trim() : '',
          title: parts[1] ? parts[1].trim() : '',
          url: parts[2] ? parts[2].trim() : '',
          platform: parts[3] ? parts[3].trim() : '',
          notes: parts.slice(4).join(',') || ''
        };
        out.push(obj);
      }
      return out;
    }

    function generateColors(n){
      const base = ['rgba(220,20,60,0.85)','rgba(45,80,22,0.85)','rgba(255,215,0,0.85)','rgba(33,150,243,0.85)','rgba(156,39,176,0.85)'];
      const border = base.map(s=>s.replace('0.85','1'));
      const bg = []; const bd = [];
      for(let i=0;i<n;i++){ bg.push(base[i%base.length]); bd.push(border[i%border.length]); }
      return {bg,bd};
    }

    let allData = [];
    let table = null;
    let platformChart, classCountChart, platformClassesChart;

    function renderPlatformChart(counts){
      const ctx = document.getElementById('platformChart').getContext('2d');
      const labels = Object.keys(counts).sort();
      const data = labels.map(l=>counts[l]);
      const cols = generateColors(labels.length);
      if(platformChart) platformChart.destroy();
      platformChart = new Chart(ctx,{type:'doughnut',data:{labels, datasets:[{data, backgroundColor:cols.bg, borderColor:cols.bd, borderWidth:1}]}, options:{plugins:{legend:{position:'bottom',labels:{color:'#fff'}}}}});
    }
    function renderClassCountChart(counts){
      const ctx = document.getElementById('classCountChart').getContext('2d');
      const entries = Object.entries(counts).filter(e=>e[0]).sort((a,b)=>b[1]-a[1]).slice(0,15);
      const labels = entries.map(e=>`Clase ${e[0]}`), data = entries.map(e=>e[1]);
      const cols = generateColors(labels.length);
      if(classCountChart) classCountChart.destroy();
      classCountChart = new Chart(ctx,{type:'bar',data:{labels,datasets:[{label:'Contenidos',data, backgroundColor:cols.bg[0], borderColor:cols.bd[0], borderWidth:1}]}, options:{indexAxis:'y', plugins:{legend:{display:false}}}});
    }
    function renderPlatformClassesChart(platformClasses){
      const labels = Object.keys(platformClasses).sort();
      const data = labels.map(l=>platformClasses[l].size || 0);
      const cols = generateColors(labels.length);
      const ctx = document.getElementById('platformClassesChart').getContext('2d');
      if(platformClassesChart) platformClassesChart.destroy();
      platformClassesChart = new Chart(ctx,{type:'bar',data:{labels,datasets:[{label:'Clases Ãºnicas',data, backgroundColor:cols.bg, borderColor:cols.bd, borderWidth:1}]}, options:{plugins:{legend:{display:false}}}});
    }

    function initTable(data){
      const tabData = data.map(d=>({class:d.class_number, title:d.title||'Sin tÃ­tulo', platform:d.platform||'Desconocida', url:d.url||'', notes:d.notes||''}));
      table = new Tabulator("#dataTable",{
        data: tabData,
        layout:"fitColumns",
        pagination:"local",
        paginationSize:15,
        movableColumns:true,
        columns:[
          {title:"Clase", field:"class", width:90, sorter:"number"},
          {title:"TÃ­tulo", field:"title", minWidth:200},
          {title:"Plataforma", field:"platform", width:130},
          {title:"Enlace", field:"url", width:140, formatter:function(cell){
            const v = cell.getValue();
            if(!v) return '-';
            const safe = encodeURI(v);
            return `<a href="${safe}" target="_blank" rel="noopener noreferrer">Abrir</a> &nbsp; <a href="${safe}" target="_blank" rel="noopener noreferrer" download>â†“</a>`;
          }},
          {title:"Notas", field:"notes", minWidth:160}
        ],
        initialSort:[{column:"class", dir:"desc"}],
      });
    }

    function fillFilters(data){
      const cf = document.getElementById('classFilter');
      const pf = document.getElementById('platformFilter');
      const classes = [...new Set(data.map(d=>d.class_number))].filter(x=>x).sort((a,b)=>b-a);
      classes.forEach(c=>{ const o=document.createElement('option'); o.value=c; o.textContent=`Clase ${c}`; cf.appendChild(o) });
      const plats = [...new Set(data.map(d=>d.platform))].sort();
      plats.forEach(p=>{ const o=document.createElement('option'); o.value=p; o.textContent=p; pf.appendChild(o) });
    }

    function applyFilters(){
      const cls = document.getElementById('classFilter').value;
      const plat = document.getElementById('platformFilter').value;
      const search = document.getElementById('searchInput').value.trim().toLowerCase();
      const filters = [];
      if(cls) filters.push({field:"class", type:"=", value:cls});
      if(plat) filters.push({field:"platform", type:"=", value:plat});
      if(search) filters.push({field:"title", type:"like", value:search});
      table.setFilter(filters);
    }
    function clearFilters(){ document.getElementById('classFilter').value=''; document.getElementById('platformFilter').value=''; document.getElementById('searchInput').value=''; if(table) table.clearFilter() }

    // botones utilitarios
    document.addEventListener('click', (e)=>{
      if(e.target && e.target.id === 'btnDownloadCSV'){
        // descarga el CSV embebido
        downloadFile('clase_150_a_192.csv', DATA_CSV);
      }

      if(e.target && e.target.id === 'btnExportVisible'){
        const rows = table.getData(true); // visible
        const csv = ['class_number,title,url,platform,notes', ...rows.map(r=>[r.class, `"${(r.title||'').replace(/"/g,'""')}"`, r.url, r.platform, `"${(r.notes||'').replace(/"/g,'""')}"`].join(','))].join('\n');
        downloadFile('clase_150_a_192_visible.csv', csv);
      }

      if(e.target && e.target.id === 'btnOpenAll'){
        const rows = table.getData(true).filter(r=>r.url).slice(0,12);
        rows.forEach(r=>{ window.open(r.url, '_blank', 'noopener') });
      }
    });

    function downloadFile(filename, content){
      const blob = new Blob([content], {type:'text/csv;charset=utf-8;'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href = url; a.download = filename; document.body.appendChild(a);
      a.click(); a.remove(); URL.revokeObjectURL(url);
    }

    // Init
    (function(){
      allData = parseCSV(DATA_CSV);
      // stats
      const platformCounts = {};
      const classCounts = {};
      const platformClasses = {};
      allData.forEach(r=>{
        const p = r.platform || 'Desconocida';
        const c = r.class_number || '';
        platformCounts[p] = (platformCounts[p]||0) + 1;
        classCounts[c] = (classCounts[c]||0) + 1;
        platformClasses[p] = platformClasses[p] || new Set();
        if(c) platformClasses[p].add(c);
      });

      document.getElementById('totalContent').textContent = allData.length;
      document.getElementById('totalClasses').textContent = Object.keys(classCounts).filter(k=>k).length;
      document.getElementById('totalPlatforms').textContent = Object.keys(platformCounts).filter(k=>k).length;

      renderPlatformChart(platformCounts);
      renderClassCountChart(classCounts);
      renderPlatformClassesChart(platformClasses);
      initTable(allData);
      fillFilters(allData);
    })();
  </script>
</body>
</html>
